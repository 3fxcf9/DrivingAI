type TrackPoint = [x: number, y: number];

export class Track {
	track: TrackPoint[][];
	constructor() {
		this.track = [
			[
				[-0.7364341085271318, 0.6086956521739131],
				[-0.5870331219168429, 0.741304347826087],
				[-0.28400281888653983, 0.7782608695652173],
				[-0.0021141649048625794, 0.7086956521739131],
				[0.19238900634249473, 0.6391304347826087],
				[0.2938689217758985, 0.6434782608695652],
				[0.4376321353065539, 0.782608695652174],
				[0.6504580690627202, 0.8108695652173913],
				[0.7815362931642001, 0.7304347826086957],
				[0.883016208597604, 0.5608695652173913],
				[0.9069767441860465, 0.3173913043478261],
				[0.8731501057082452, 0.017391304347826087],
				[0.8224101479915433, -0.1608695652173913],
				[0.8153629316420014, -0.28043478260869564],
				[0.7773079633544749, -0.3934782608695652],
				[0.7533474277660324, -0.5695652173913044],
				[0.7265680056377731, -0.6826086956521739],
				[0.6434108527131783, -0.75],
				[0.5306553911205074, -0.8304347826086956],
				[0.42353770260747003, -0.8108695652173913],
				[0.244538407329105, -0.7347826086956522],
				[0.1303735024665257, -0.758695652173913],
				[0.03312191684284708, -0.8043478260869565],
				[-0.06835799859055673, -0.8630434782608696],
				[-0.13742071881606766, -0.8782608695652174],
				[-0.2346723044397463, -0.8760869565217392],
				[-0.31360112755461594, -0.7978260869565217],
				[-0.3798449612403101, -0.6695652173913044],
				[-0.3587033121916843, -0.5478260869565217],
				[-0.30655391120507397, -0.4391304347826087],
				[-0.2036645525017618, -0.3217391304347826],
				[-0.1529245947850599, -0.24347826086956523],
				[-0.14587737843551796, -0.11956521739130435],
				[-0.18111346018322763, -0.02391304347826087],
				[-0.23749119097956306, 0.04782608695652174],
				[-0.324876673713883, 0.04565217391304348],
				[-0.4009866102889359, -0.034782608695652174],
				[-0.46723044397463004, -0.11521739130434783],
				[-0.5968992248062015, -0.13260869565217392],
				[-0.689922480620155, -0.08478260869565217],
				[-0.7505285412262156, -0.034782608695652174],
				[-0.8040873854827343, 0.11739130434782609],
				[-0.821000704721635, 0.28695652173913044],
				[-0.7914023960535589, 0.4543478260869565],
				[-0.7364341085271318, 0.6086956521739131],
			],
			[
				[-0.5898520084566596, 0.33043478260869563],
				[-0.5123326286116984, 0.4369565217391304],
				[-0.39252995066948554, 0.46956521739130436],
				[-0.25863284002818887, 0.44565217391304346],
				[-0.13601127554615927, 0.38913043478260867],
				[0.0613107822410148, 0.3456521739130435],
				[0.2558139534883721, 0.33260869565217394],
				[0.3798449612403101, 0.42391304347826086],
				[0.5236081747709654, 0.5282608695652173],
				[0.634954193093728, 0.49130434782608695],
				[0.7181113460183227, 0.3565217391304348],
				[0.7026074700493306, 0.1956521739130435],
				[0.6476391825229034, 0.006521739130434782],
				[0.6138125440451022, -0.20869565217391303],
				[0.5870331219168429, -0.4217391304347826],
				[0.5532064834390416, -0.5239130434782608],
				[0.4418604651162791, -0.508695652173913],
				[0.28118393234672306, -0.46304347826086956],
				[0.13178294573643412, -0.47391304347826085],
				[0.019027484143763214, -0.5391304347826087],
				[-0.10923185341789993, -0.6108695652173913],
				[-0.16701902748414377, -0.6043478260869565],
				[-0.030303030303030304, -0.4326086956521739],
				[0.023255813953488372, -0.29782608695652174],
				[0.010570824524312896, -0.06956521739130435],
				[-0.03312191684284708, 0.08043478260869565],
				[-0.0923185341789993, 0.18695652173913044],
				[-0.18675123326286117, 0.24565217391304348],
				[-0.30091613812544044, 0.26956521739130435],
				[-0.41508104298801973, 0.2391304347826087],
				[-0.5123326286116984, 0.20869565217391303],
				[-0.591261451726568, 0.21521739130434783],
				[-0.6194503171247357, 0.2782608695652174],
				[-0.5870331219168429, 0.33695652173913043],
			],
		];
		// this.track = [
		// 	[
		// 		[-0.5, 0],
		// 		[0.5, 0.5],
		// 	],
		// ];
	}

	pointToCoords(pt: TrackPoint): TrackPoint {
		return [pt[0] * (globalThis.game.canvas.width / 2), pt[1] * (globalThis.game.canvas.height / 2)];
	}

	render() {
		globalThis.game.reset();
		globalThis.game.ctx.strokeStyle = "white";
		globalThis.game.ctx.lineWidth = 5;
		for (const path of this.track) {
			for (let i = 1; i < path.length; i++) {
				globalThis.game.ctx.beginPath();
				globalThis.game.ctx.moveTo(...this.pointToCoords(path[i - 1]));
				globalThis.game.ctx.lineTo(...this.pointToCoords(path[i]));
				globalThis.game.ctx.closePath();
				globalThis.game.ctx.stroke();
			}
		}
	}
}
